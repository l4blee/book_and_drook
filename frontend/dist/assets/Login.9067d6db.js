import{a as s,D as w,v as t,C as y,T as i,r as a,i as o,E as h,G as g,y as f,I as C,x as b,H as D,B as E,t as B}from"./index.8320439c.js";import{V as I,a as S}from"./VisibilityOff.8d35d3a1.js";const v=B('<form style="width: 90%"></form>'),W=()=>{const[n,p]=s(!1),[l,u]=s({status:!1,message:""}),[d,m]=s({login:null,password:null});function x(e){e.preventDefault(),fetch("/auth/login",{method:"POST",body:JSON.stringify(d()),headers:{"Content-Type":"application/json"}}).then(r=>{if(r.status===401){u({status:!0,message:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043B\u043E\u0433\u0438\u043D \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C."});return}if(r.status!==200){u({status:!0,message:"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."});return}r.redirected&&window.location.assign(r.url)}).catch(r=>{u({status:!0,message:"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."})})}function c(e){m({...d(),[e.target.id]:e.target.value})}return w(()=>{document.title="Book \u0438 \u0434\u0440\u0443\u0433 | \u0410\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044F"}),t(E,{sx:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},get children(){return t(y,{sx:{display:"flex",flexDirection:"column",width:"400px",justifyContent:"center",alignItems:"center",boxShadow:"#00000029 0 0 25px",padding:"25px",borderRadius:"8px"},get children(){return[t(i,{sx:{fontSize:"22px",width:"100%",textAlign:"center"},children:"\u0412\u0445\u043E\u0434"}),a(()=>a(()=>!!l().status)()&&t(i,{sx:{color:"#d32f2f",textAlign:"center"},get children(){return l().message}})),(()=>{const e=v.cloneNode(!0);return e.addEventListener("submit",x),o(e,t(h,{fullWidth:!0,sx:{mt:"15px"},get children(){return[t(g,{for:"login",children:"\u041B\u043E\u0433\u0438\u043D"}),t(f,{id:"login",onChange:c})]}}),null),o(e,t(h,{fullWidth:!0,sx:{display:"flex",flexDirection:"row",alignItems:"end",mt:"15px"},get children(){return[t(g,{for:"password",children:"\u041F\u0430\u0440\u043E\u043B\u044C"}),t(f,{fullWidth:!0,id:"password",get type(){return n()?"text":"password"},onChange:c}),t(C,{onClick:()=>p(!n()),get children(){return a(()=>!!n())()?t(I,{}):t(S,{})},size:"large",sx:{ml:"5px",width:"25px",height:"25px"}})]}}),null),o(e,t(b,{fullWidth:!0,type:"submit",sx:{mt:"10px"},children:"\u0412\u043E\u0439\u0442\u0438"}),null),e})(),t(i,{get children(){return["\u0415\u0449\u0451 \u043D\u0435\u0442 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430? ",t(D,{href:"/register",children:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C"})]}})]}})}})};export{W as default};
