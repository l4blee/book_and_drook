import{a,D as C,b as t,C as b,T as o,d as l,i as d,E as f,G as p,f as m,I as D,e as E,H as B,B as I,t as S}from"./index.c05a7225.js";import{V as A,a as v}from"./VisibilityOff.6b018dea.js";const T=S('<form style="width: 90%"></form>'),F=()=>{const[r,x]=a(!1),[c,i]=a({status:!1,message:""}),[u,w]=a({login:null,password:null});function y(e){e.preventDefault();let g=window.location.search.substring(1).split("=")[1],s;g?s={...u(),origin:g}:s=u(),fetch("/auth/login",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then(n=>{if(n.status===401){i({status:!0,message:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043B\u043E\u0433\u0438\u043D \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C."});return}if(n.status!==200){i({status:!0,message:"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."});return}n.redirected&&window.location.assign(n.url)}).catch(n=>{i({status:!0,message:"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."})})}function h(e){w({...u(),[e.target.id]:e.target.value})}return C(()=>{document.title="Book \u0438 \u0434\u0440\u0443\u0433 | \u0410\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044F"}),t(I,{sx:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},get children(){return t(b,{sx:{display:"flex",flexDirection:"column",width:"400px",justifyContent:"center",alignItems:"center",boxShadow:"#00000029 0 0 25px",padding:"25px",borderRadius:"8px"},get children(){return[t(o,{sx:{fontSize:"22px",width:"100%",textAlign:"center"},children:"\u0412\u0445\u043E\u0434"}),l(()=>l(()=>!!c().status)()&&t(o,{sx:{color:"#d32f2f",textAlign:"center"},get children(){return c().message}})),(()=>{const e=T.cloneNode(!0);return e.addEventListener("submit",y),d(e,t(f,{fullWidth:!0,sx:{mt:"15px"},get children(){return[t(p,{for:"login",children:"\u041B\u043E\u0433\u0438\u043D"}),t(m,{id:"login",onChange:h})]}}),null),d(e,t(f,{fullWidth:!0,sx:{display:"flex",flexDirection:"row",alignItems:"end",mt:"15px"},get children(){return[t(p,{for:"password",children:"\u041F\u0430\u0440\u043E\u043B\u044C"}),t(m,{fullWidth:!0,id:"password",get type(){return r()?"text":"password"},onChange:h}),t(D,{onClick:()=>x(!r()),get children(){return l(()=>!!r())()?t(A,{}):t(v,{})},size:"large",sx:{ml:"5px",width:"25px",height:"25px"}})]}}),null),d(e,t(E,{fullWidth:!0,type:"submit",sx:{mt:"10px"},children:"\u0412\u043E\u0439\u0442\u0438"}),null),e})(),t(o,{get children(){return["\u0415\u0449\u0451 \u043D\u0435\u0442 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430? ",t(B,{href:"/register",children:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C"})]}})]}})}})};export{F as default};
